
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Interpretable Random Forest &#8212; hpiPy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/altair-plot.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=59fadc99"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/random_forest';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bifurcated Neural Network" href="neural_network.html" />
    <link rel="prev" title="Hedonic Pricing" href="hedonic_pricing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.1.5" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
    
    <img src="../_static/hpipy-logo.svg" class="logo__image only-light" alt="hpiPy - Home"/>
    <img src="../_static/hpipy-logo.svg" class="logo__image only-dark pst-js-only" alt="hpiPy - Home"/>
  
  
</a></div>
    
      <div class="navbar-item"><a class="navbar-brand" href="../index.html">
<p class="title">hpiPy</p>
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../installation/installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../quick_start/quick_start.html">
    Quick Start
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../releases/changes.html">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/reidjohnson/hpipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../installation/installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../quick_start/quick_start.html">
    Quick Start
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../releases/changes.html">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/reidjohnson/hpipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Price Index Methods</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="repeat_sales.html">Repeat Sales</a></li>
<li class="toctree-l1"><a class="reference internal" href="hedonic_pricing.html">Hedonic Pricing</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Interpretable Random Forest</a></li>
<li class="toctree-l1"><a class="reference internal" href="neural_network.html">Bifurcated Neural Network</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Evaluation &amp; Comparison</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="accuracy_metrics.html">Accuracy Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="volatility_metrics.html">Volatility Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="revision_metrics.html">Revision Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="series_metrics.html">Series Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparative_analysis.html">Comparative Analysis</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Interpretable Random Forest</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="interpretable-random-forest">
<h1>Interpretable Random Forest<a class="headerlink" href="#interpretable-random-forest" title="Link to this heading">#</a></h1>
<p>The random forest method applies an ensemble machine learning approach to index construction, automatically capturing nonlinear relationships and complex interactions between property features. It does not require prior assumptions about functional form and can handle large datasets effectively. With sufficient data, it offers a flexible and robust alternative to traditional models.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Background on model construction for the interpretable random forest can be found in:</p>
<p>Krause (2019), “A Machine Learning Approach to House Price Indexes”. <a class="github reference external" href="https://github.com/andykrause/hpi_research/tree/master/papers/irf">andykrause/hpi_research</a>.</p>
</div>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>The random forest method:</p>
<ol class="arabic simple">
<li><p>Uses an ensemble of decision trees</p></li>
<li><p>Handles both numerical and categorical features</p></li>
<li><p>Automatically handles nonlinear relationships</p></li>
<li><p>Uses partial dependence plots to derive index</p></li>
</ol>
</section>
<section id="data-preparation">
<h2>Data Preparation<a class="headerlink" href="#data-preparation" title="Link to this heading">#</a></h2>
<p>Similar to the hedonic method, you need:</p>
<ul class="simple">
<li><p>A date column (e.g., “sale_date”)</p></li>
<li><p>A price column (e.g., “sale_price”)</p></li>
<li><p>Property characteristics</p></li>
<li><p>A transaction identifier</p></li>
</ul>
<p>Example setup:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hpipy.datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_ex_sales</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hpipy.period_table</span><span class="w"> </span><span class="kn">import</span> <span class="n">PeriodTable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hpipy.trans_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">HedonicTransactionData</span>

<span class="go"># Load sales data.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">load_ex_sales</span><span class="p">()</span>

<span class="go"># Create period table.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sales_hdata</span> <span class="o">=</span> <span class="n">PeriodTable</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">create_period_table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;sale_date&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">periodicity</span><span class="o">=</span><span class="s2">&quot;monthly&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>

<span class="go"># Prepare hedonic data.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trans_data</span> <span class="o">=</span> <span class="n">HedonicTransactionData</span><span class="p">(</span><span class="n">sales_hdata</span><span class="p">)</span><span class="o">.</span><span class="n">create_transactions</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">prop_id</span><span class="o">=</span><span class="s2">&quot;pinx&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">trans_id</span><span class="o">=</span><span class="s2">&quot;sale_id&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">price</span><span class="o">=</span><span class="s2">&quot;sale_price&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-the-index">
<h2>Creating the Index<a class="headerlink" href="#creating-the-index" title="Link to this heading">#</a></h2>
<p>Create a random forest-based index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hpipy.extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestIndex</span>

<span class="go"># Create the index.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hpi</span> <span class="o">=</span> <span class="n">RandomForestIndex</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">trans_data</span><span class="o">=</span><span class="n">trans_data</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">prop_id</span><span class="o">=</span><span class="s2">&quot;pinx&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">trans_id</span><span class="o">=</span><span class="s2">&quot;sale_id&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">price</span><span class="o">=</span><span class="s2">&quot;sale_price&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">date</span><span class="o">=</span><span class="s2">&quot;sale_date&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dep_var</span><span class="o">=</span><span class="s2">&quot;price&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ind_var</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;tot_sf&quot;</span><span class="p">,</span> <span class="s2">&quot;beds&quot;</span><span class="p">,</span> <span class="s2">&quot;baths&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">log_dep</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">smooth</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">random_seed</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h2>
<p>The main parameters for random forest index creation are:</p>
<div class="hint admonition">
<p class="admonition-title">Parameters</p>
<dl class="simple">
<dt><strong>dep_var</strong><span class="classifier">str</span></dt><dd><p>Dependent variable to model.</p>
</dd>
<dt><strong>ind_var</strong><span class="classifier">list</span></dt><dd><p>Independent variables to use in the model.</p>
</dd>
<dt><strong>log_dep</strong><span class="classifier">bool</span></dt><dd><p>Whether to use log of price as dependent variable (recommended).</p>
</dd>
<dt><strong>n_estimators</strong><span class="classifier">int</span></dt><dd><p>Number of trees in the forest (default: 100).</p>
</dd>
</dl>
</div>
</section>
<section id="feature-importance">
<h2>Feature Importance<a class="headerlink" href="#feature-importance" title="Link to this heading">#</a></h2>
<p>The random forest model is implemented using the <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html">RandomForestRegressor</a> class from scikit-learn. We can access the feature importance from the model object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">importance</span> <span class="o">=</span> <span class="n">hpi</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">model_obj</span><span class="o">.</span><span class="n">feature_importances_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importance</span>
<span class="go">array(...)</span>
</pre></div>
</div>
<p>Similarly, we can leverage the <a class="reference external" href="https://scikit-learn.org/stable/modules/partial_dependence.html">partial_dependence</a> function to plot the partial dependence of the model on particular features. Here, we plot the partial dependence on the transaction period, which is used to derive the index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.inspection</span><span class="w"> </span><span class="kn">import</span> <span class="n">partial_dependence</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">predictions</span> <span class="o">=</span> <span class="n">partial_dependence</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">hpi</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">model_obj</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">hpi</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">X</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;trans_period&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pdp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">predictions</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df_pdp</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;grid_values:Q&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Transaction Period&quot;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span>
<span class="gp">... </span>       <span class="s2">&quot;average:Q&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">zero</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Partial Dependence&quot;</span>
<span class="gp">... </span>   <span class="p">),</span>
<span class="gp">... </span>   <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>       <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s2">&quot;grid_values&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Transaction Period&quot;</span><span class="p">),</span>
<span class="gp">... </span>       <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;.3f&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Partial Dependence&quot;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="p">],</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="go">alt.Chart(...)</span>
</pre></div>
</div>

        <div class="altair-chart" id="container-vega-spec-a311770b5e2d48bd8fa200ca83b0149c">
            <script type="application/json" id="vega-spec-a311770b5e2d48bd8fa200ca83b0149c">
                {"$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "config": {"view": {"continuousHeight": 300, "continuousWidth": 300}}, "data": {"name": "data-6f4d598db3ab4806c6e41a0b5bcb7317"}, "datasets": {"data-6f4d598db3ab4806c6e41a0b5bcb7317": [{"average": 13.242069505713518, "grid_values": 1.0}, {"average": 13.271213261237852, "grid_values": 2.0}, {"average": 13.281807037396696, "grid_values": 3.0}, {"average": 13.296840150806954, "grid_values": 4.0}, {"average": 13.29740085408782, "grid_values": 5.0}, {"average": 13.287715036282007, "grid_values": 6.0}, {"average": 13.2920791761852, "grid_values": 7.0}, {"average": 13.307892166949532, "grid_values": 8.0}, {"average": 13.308234776123777, "grid_values": 9.0}, {"average": 13.290605065244195, "grid_values": 10.0}, {"average": 13.280904043562918, "grid_values": 11.0}, {"average": 13.256549278063652, "grid_values": 12.0}, {"average": 13.256695049345876, "grid_values": 13.0}, {"average": 13.263493551140323, "grid_values": 14.0}, {"average": 13.262461428964784, "grid_values": 15.0}, {"average": 13.276084561941545, "grid_values": 16.0}, {"average": 13.270992887131802, "grid_values": 17.0}, {"average": 13.269776536512417, "grid_values": 18.0}, {"average": 13.291270438054353, "grid_values": 19.0}, {"average": 13.286764918405595, "grid_values": 20.0}, {"average": 13.286125065923072, "grid_values": 21.0}, {"average": 13.274877185447345, "grid_values": 22.0}, {"average": 13.293370595444244, "grid_values": 23.0}, {"average": 13.275173049051531, "grid_values": 24.0}, {"average": 13.270960248474946, "grid_values": 25.0}, {"average": 13.268324447036298, "grid_values": 26.0}, {"average": 13.254134369730764, "grid_values": 27.0}, {"average": 13.263431498530652, "grid_values": 28.0}, {"average": 13.276685849921106, "grid_values": 29.0}, {"average": 13.318219589368482, "grid_values": 30.0}, {"average": 13.310961360313321, "grid_values": 31.0}, {"average": 13.327742839666492, "grid_values": 32.0}, {"average": 13.313224628507664, "grid_values": 33.0}, {"average": 13.336228039732903, "grid_values": 34.0}, {"average": 13.356022552997883, "grid_values": 35.0}, {"average": 13.359838946386429, "grid_values": 36.0}, {"average": 13.360943879073567, "grid_values": 37.0}, {"average": 13.366974070570647, "grid_values": 38.0}, {"average": 13.386492034061646, "grid_values": 39.0}, {"average": 13.38134770664967, "grid_values": 40.0}, {"average": 13.39756808195859, "grid_values": 41.0}, {"average": 13.40680286514655, "grid_values": 42.0}, {"average": 13.39756312155929, "grid_values": 43.0}, {"average": 13.413032982490463, "grid_values": 44.0}, {"average": 13.416893069515432, "grid_values": 45.0}, {"average": 13.428558833310984, "grid_values": 46.0}, {"average": 13.415872187855427, "grid_values": 47.0}, {"average": 13.407892677321986, "grid_values": 48.0}, {"average": 13.40360936215051, "grid_values": 49.0}, {"average": 13.432711478925981, "grid_values": 50.0}, {"average": 13.441489774067575, "grid_values": 51.0}, {"average": 13.475202716158874, "grid_values": 52.0}, {"average": 13.49709152400919, "grid_values": 53.0}, {"average": 13.513607268235475, "grid_values": 54.0}, {"average": 13.501560358526346, "grid_values": 55.0}, {"average": 13.488009390673696, "grid_values": 56.0}, {"average": 13.494199566770538, "grid_values": 57.0}, {"average": 13.496770697493307, "grid_values": 58.0}, {"average": 13.526594940324465, "grid_values": 59.0}, {"average": 13.550357234919105, "grid_values": 60.0}, {"average": 13.545642151526987, "grid_values": 61.0}, {"average": 13.533248989775252, "grid_values": 62.0}, {"average": 13.518761001331072, "grid_values": 63.0}, {"average": 13.546463399641777, "grid_values": 64.0}, {"average": 13.601735429453736, "grid_values": 65.0}, {"average": 13.610860864717857, "grid_values": 66.0}, {"average": 13.605257604553417, "grid_values": 67.0}, {"average": 13.615763842878387, "grid_values": 68.0}, {"average": 13.618872297197754, "grid_values": 69.0}, {"average": 13.601255388816654, "grid_values": 70.0}, {"average": 13.604084235268676, "grid_values": 71.0}, {"average": 13.623692644723013, "grid_values": 72.0}, {"average": 13.644238638290721, "grid_values": 73.0}, {"average": 13.67756316143008, "grid_values": 74.0}, {"average": 13.684926213029206, "grid_values": 75.0}, {"average": 13.69830821791005, "grid_values": 76.0}, {"average": 13.710747657098707, "grid_values": 77.0}, {"average": 13.727818489704093, "grid_values": 78.0}, {"average": 13.728764476975517, "grid_values": 79.0}, {"average": 13.720312433551406, "grid_values": 80.0}, {"average": 13.710043213494082, "grid_values": 81.0}, {"average": 13.716009956210208, "grid_values": 82.0}, {"average": 13.699433639738166, "grid_values": 83.0}, {"average": 13.71913447377504, "grid_values": 84.0}]}, "encoding": {"tooltip": [{"field": "grid_values", "title": "Transaction Period", "type": "quantitative"}, {"field": "average", "format": ".3f", "title": "Partial Dependence", "type": "quantitative"}], "x": {"field": "grid_values", "title": "Transaction Period", "type": "quantitative"}, "y": {"field": "average", "scale": {"zero": false}, "title": "Partial Dependence", "type": "quantitative"}}, "mark": {"size": 4, "type": "line"}, "width": 600}
            </script>
            <script>
                (function() {
                    const el = document.getElementById("vega-spec-a311770b5e2d48bd8fa200ca83b0149c");
                    if (el) {
                        const spec = JSON.parse(el.textContent);
                        vegaEmbed(el.parentElement, spec, {
                            actions: {
                                export: true,
                                source: true,
                                editor: true,
                                compiled: false
                            }
                        }).catch(console.error);
                    }
                })();
            </script>
        </div>
        </section>
<section id="evaluating-the-index">
<h2>Evaluating the Index<a class="headerlink" href="#evaluating-the-index" title="Link to this heading">#</a></h2>
<p>Evaluate the random forest index using various metrics:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hpipy.utils.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">volatility</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hpipy.utils.plotting</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_index</span>

<span class="go"># Calculate metrics.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vol</span> <span class="o">=</span> <span class="n">volatility</span><span class="p">(</span><span class="n">hpi</span><span class="p">)</span>

<span class="go"># Visualize the index.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_index</span><span class="p">(</span><span class="n">hpi</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Random Forest Index&quot;</span><span class="p">)</span>
<span class="go">alt.LayerChart(...)</span>
</pre></div>
</div>

        <div class="altair-chart" id="container-vega-spec-f3dba6d52c0d4c52b63a50bf878246e6">
            <script type="application/json" id="vega-spec-f3dba6d52c0d4c52b63a50bf878246e6">
                {"$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "config": {"view": {"continuousHeight": 300, "continuousWidth": 300}}, "datasets": {"data-7687a89bb69e970e174413fc67a19e3f": [{"x": "2010-01-31T00:00:00", "y": 100.0}, {"x": "2010-02-28T00:00:00", "y": 102.95725905848462}, {"x": "2010-03-31T00:00:00", "y": 104.05376301877473}, {"x": "2010-04-30T00:00:00", "y": 105.62983196883684}, {"x": "2010-05-31T00:00:00", "y": 105.68907556966771}, {"x": "2010-06-30T00:00:00", "y": 104.67033208596692}, {"x": "2010-07-31T00:00:00", "y": 105.1281262712549}, {"x": "2010-08-31T00:00:00", "y": 106.80372959566724}, {"x": "2010-09-30T00:00:00", "y": 106.84032780235302}, {"x": "2010-10-31T00:00:00", "y": 104.97326991587683}, {"x": "2010-11-30T00:00:00", "y": 103.95984552222922}, {"x": "2010-12-31T00:00:00", "y": 101.4585112071428}, {"x": "2011-01-31T00:00:00", "y": 101.47330202242584}, {"x": "2011-02-28T00:00:00", "y": 102.16551880065359}, {"x": "2011-03-31T00:00:00", "y": 102.0601259016541}, {"x": "2011-04-30T00:00:00", "y": 103.46001837871354}, {"x": "2011-05-31T00:00:00", "y": 102.93457244442124}, {"x": "2011-06-30T00:00:00", "y": 102.80944402891254}, {"x": "2011-07-31T00:00:00", "y": 105.04313951756107}, {"x": "2011-08-31T00:00:00", "y": 104.57093016157239}, {"x": "2011-09-30T00:00:00", "y": 104.50404159399883}, {"x": "2011-10-31T00:00:00", "y": 103.33517856392804}, {"x": "2011-11-30T00:00:00", "y": 105.2639784603747}, {"x": "2011-12-31T00:00:00", "y": 103.36575620547981}, {"x": "2012-01-31T00:00:00", "y": 102.93121285305915}, {"x": "2012-02-29T00:00:00", "y": 102.66026385488583}, {"x": "2012-03-31T00:00:00", "y": 101.21379380695895}, {"x": "2012-04-30T00:00:00", "y": 102.15917936028507}, {"x": "2012-05-31T00:00:00", "y": 103.5222463507208}, {"x": "2012-06-30T00:00:00", "y": 107.91245209564626}, {"x": "2012-07-31T00:00:00", "y": 107.13203445159489}, {"x": "2012-08-31T00:00:00", "y": 108.94503837205075}, {"x": "2012-09-30T00:00:00", "y": 107.37477757053604}, {"x": "2012-10-31T00:00:00", "y": 109.8733918815029}, {"x": "2012-11-30T00:00:00", "y": 112.06995037636982}, {"x": "2012-12-31T00:00:00", "y": 112.4984705747556}, {"x": "2013-01-31T00:00:00", "y": 112.62284251080186}, {"x": "2013-02-28T00:00:00", "y": 113.3040316042432}, {"x": "2013-03-31T00:00:00", "y": 115.5372182904938}, {"x": "2013-04-30T00:00:00", "y": 114.94438318767722}, {"x": "2013-05-31T00:00:00", "y": 116.82402727782232}, {"x": "2013-06-30T00:00:00", "y": 117.90786865835834}, {"x": "2013-07-31T00:00:00", "y": 116.82344778543643}, {"x": "2013-08-31T00:00:00", "y": 118.64474153467806}, {"x": "2013-09-30T00:00:00", "y": 119.10360561994115}, {"x": "2013-10-31T00:00:00", "y": 120.50117616464915}, {"x": "2013-11-30T00:00:00", "y": 118.98207697705949}, {"x": "2013-12-31T00:00:00", "y": 118.03643613367692}, {"x": "2014-01-31T00:00:00", "y": 117.53193012645455}, {"x": "2014-02-28T00:00:00", "y": 121.00261527432406}, {"x": "2014-03-31T00:00:00", "y": 122.06948775390471}, {"x": "2014-04-30T00:00:00", "y": 126.25496529273228}, {"x": "2014-05-31T00:00:00", "y": 129.04900349512266}, {"x": "2014-06-30T00:00:00", "y": 131.1980414610264}, {"x": "2014-07-31T00:00:00", "y": 129.6269926433811}, {"x": "2014-08-31T00:00:00", "y": 127.88226947537551}, {"x": "2014-09-30T00:00:00", "y": 128.67633842078305}, {"x": "2014-10-31T00:00:00", "y": 129.00760779372743}, {"x": "2014-11-30T00:00:00", "y": 132.9131118802954}, {"x": "2014-12-31T00:00:00", "y": 136.10925586820622}, {"x": "2015-01-31T00:00:00", "y": 135.46899999245275}, {"x": "2015-02-28T00:00:00", "y": 133.80047129202237}, {"x": "2015-03-31T00:00:00", "y": 131.8759465197663}, {"x": "2015-04-30T00:00:00", "y": 135.58029934924693}, {"x": "2015-05-31T00:00:00", "y": 143.2850653206343}, {"x": "2015-06-30T00:00:00", "y": 144.59858802661276}, {"x": "2015-07-31T00:00:00", "y": 143.79063023127466}, {"x": "2015-08-31T00:00:00", "y": 145.30929260653775}, {"x": "2015-09-30T00:00:00", "y": 145.76168265742083}, {"x": "2015-10-31T00:00:00", "y": 143.21629917318648}, {"x": "2015-11-30T00:00:00", "y": 143.62200966876847}, {"x": "2015-12-31T00:00:00", "y": 146.4660007889979}, {"x": "2016-01-31T00:00:00", "y": 149.50641753505346}, {"x": "2016-02-29T00:00:00", "y": 154.57259270788794}, {"x": "2016-03-31T00:00:00", "y": 155.71491902673563}, {"x": "2016-04-30T00:00:00", "y": 157.8127017973312}, {"x": "2016-05-31T00:00:00", "y": 159.78806403155866}, {"x": "2016-06-30T00:00:00", "y": 162.53919455999306}, {"x": "2016-07-31T00:00:00", "y": 162.6930273195985}, {"x": "2016-08-31T00:00:00", "y": 161.32373360437816}, {"x": "2016-09-30T00:00:00", "y": 159.67554198912586}, {"x": "2016-10-31T00:00:00", "y": 160.63113291374867}, {"x": "2016-11-30T00:00:00", "y": 157.99040763494563}, {"x": "2016-12-31T00:00:00", "y": 161.13381261682193}], "data-addc95662ad59601deadcf3838866519": [{"imp": 0.0, "x": "2010-01-31T00:00:00", "y": 100.0}, {"imp": 0.0, "x": "2010-02-28T00:00:00", "y": 102.33700735908644}, {"imp": 0.0, "x": "2010-03-31T00:00:00", "y": 104.2136180153654}, {"imp": 0.0, "x": "2010-04-30T00:00:00", "y": 105.12422351909309}, {"imp": 0.0, "x": "2010-05-31T00:00:00", "y": 105.32974654149048}, {"imp": 0.0, "x": "2010-06-30T00:00:00", "y": 105.16251130896318}, {"imp": 0.0, "x": "2010-07-31T00:00:00", "y": 105.53406265096301}, {"imp": 0.0, "x": "2010-08-31T00:00:00", "y": 106.25739455642504}, {"imp": 0.0, "x": "2010-09-30T00:00:00", "y": 106.20577577129903}, {"imp": 0.0, "x": "2010-10-31T00:00:00", "y": 105.25781441348636}, {"imp": 0.0, "x": "2010-11-30T00:00:00", "y": 103.46387554841628}, {"imp": 0.0, "x": "2010-12-31T00:00:00", "y": 102.29721958393263}, {"imp": 0.0, "x": "2011-01-31T00:00:00", "y": 101.69911067674074}, {"imp": 0.0, "x": "2011-02-28T00:00:00", "y": 101.89964890824452}, {"imp": 0.0, "x": "2011-03-31T00:00:00", "y": 102.56188769367374}, {"imp": 0.0, "x": "2011-04-30T00:00:00", "y": 102.81823890826297}, {"imp": 0.0, "x": "2011-05-31T00:00:00", "y": 103.06801161734911}, {"imp": 0.0, "x": "2011-06-30T00:00:00", "y": 103.59571866363162}, {"imp": 0.0, "x": "2011-07-31T00:00:00", "y": 104.14117123601534}, {"imp": 0.0, "x": "2011-08-31T00:00:00", "y": 104.7060370910441}, {"imp": 0.0, "x": "2011-09-30T00:00:00", "y": 104.13671677316643}, {"imp": 0.0, "x": "2011-10-31T00:00:00", "y": 104.36773287276719}, {"imp": 0.0, "x": "2011-11-30T00:00:00", "y": 103.98830440992752}, {"imp": 0.0, "x": "2011-12-31T00:00:00", "y": 103.85364917297123}, {"imp": 0.0, "x": "2012-01-31T00:00:00", "y": 102.98574430447495}, {"imp": 0.0, "x": "2012-02-29T00:00:00", "y": 102.26842350496797}, {"imp": 0.0, "x": "2012-03-31T00:00:00", "y": 102.01107900737661}, {"imp": 0.0, "x": "2012-04-30T00:00:00", "y": 102.29840650598828}, {"imp": 0.0, "x": "2012-05-31T00:00:00", "y": 104.53129260221738}, {"imp": 0.0, "x": "2012-06-30T00:00:00", "y": 106.18891096598732}, {"imp": 0.0, "x": "2012-07-31T00:00:00", "y": 107.99650830643064}, {"imp": 0.0, "x": "2012-08-31T00:00:00", "y": 107.81728346472723}, {"imp": 0.0, "x": "2012-09-30T00:00:00", "y": 108.73106927469655}, {"imp": 0.0, "x": "2012-10-31T00:00:00", "y": 109.77270660946958}, {"imp": 0.0, "x": "2012-11-30T00:00:00", "y": 111.48060427754278}, {"imp": 0.0, "x": "2012-12-31T00:00:00", "y": 112.39708782064243}, {"imp": 0.0, "x": "2013-01-31T00:00:00", "y": 112.80844822993356}, {"imp": 0.0, "x": "2013-02-28T00:00:00", "y": 113.82136413517962}, {"imp": 0.0, "x": "2013-03-31T00:00:00", "y": 114.59521102747141}, {"imp": 0.0, "x": "2013-04-30T00:00:00", "y": 115.76854291866444}, {"imp": 0.0, "x": "2013-05-31T00:00:00", "y": 116.55875970795262}, {"imp": 0.0, "x": "2013-06-30T00:00:00", "y": 117.18511457387235}, {"imp": 0.0, "x": "2013-07-31T00:00:00", "y": 117.79201932615761}, {"imp": 0.0, "x": "2013-08-31T00:00:00", "y": 118.19059831335187}, {"imp": 0.0, "x": "2013-09-30T00:00:00", "y": 119.41650777308945}, {"imp": 0.0, "x": "2013-10-31T00:00:00", "y": 119.52895292054991}, {"imp": 0.0, "x": "2013-11-30T00:00:00", "y": 119.17322975846184}, {"imp": 0.0, "x": "2013-12-31T00:00:00", "y": 118.18348107906365}, {"imp": 0.0, "x": "2014-01-31T00:00:00", "y": 118.85699384481852}, {"imp": 0.0, "x": "2014-02-28T00:00:00", "y": 120.20134438489443}, {"imp": 0.0, "x": "2014-03-31T00:00:00", "y": 123.10902277365369}, {"imp": 0.0, "x": "2014-04-30T00:00:00", "y": 125.79115218058655}, {"imp": 0.0, "x": "2014-05-31T00:00:00", "y": 128.83400341629377}, {"imp": 0.0, "x": "2014-06-30T00:00:00", "y": 129.95801253317674}, {"imp": 0.0, "x": "2014-07-31T00:00:00", "y": 129.569101193261}, {"imp": 0.0, "x": "2014-08-31T00:00:00", "y": 128.72853351317988}, {"imp": 0.0, "x": "2014-09-30T00:00:00", "y": 128.52207189662866}, {"imp": 0.0, "x": "2014-10-31T00:00:00", "y": 130.1990193649353}, {"imp": 0.0, "x": "2014-11-30T00:00:00", "y": 132.67665851407637}, {"imp": 0.0, "x": "2014-12-31T00:00:00", "y": 134.83045591365146}, {"imp": 0.0, "x": "2015-01-31T00:00:00", "y": 135.1262423842271}, {"imp": 0.0, "x": "2015-02-28T00:00:00", "y": 133.71513926808046}, {"imp": 0.0, "x": "2015-03-31T00:00:00", "y": 133.75223905367852}, {"imp": 0.0, "x": "2015-04-30T00:00:00", "y": 136.91377039654915}, {"imp": 0.0, "x": "2015-05-31T00:00:00", "y": 141.1546508988313}, {"imp": 0.0, "x": "2015-06-30T00:00:00", "y": 143.89142785950722}, {"imp": 0.0, "x": "2015-07-31T00:00:00", "y": 144.56617028814173}, {"imp": 0.0, "x": "2015-08-31T00:00:00", "y": 144.95386849841108}, {"imp": 0.0, "x": "2015-09-30T00:00:00", "y": 144.76242481238168}, {"imp": 0.0, "x": "2015-10-31T00:00:00", "y": 144.1999971664586}, {"imp": 0.0, "x": "2015-11-30T00:00:00", "y": 144.4347698769843}, {"imp": 0.0, "x": "2015-12-31T00:00:00", "y": 146.5314759976066}, {"imp": 0.0, "x": "2016-01-31T00:00:00", "y": 150.18167034397973}, {"imp": 0.0, "x": "2016-02-29T00:00:00", "y": 153.26464308989236}, {"imp": 0.0, "x": "2016-03-31T00:00:00", "y": 156.0334045106516}, {"imp": 0.0, "x": "2016-04-30T00:00:00", "y": 157.77189495187517}, {"imp": 0.0, "x": "2016-05-31T00:00:00", "y": 160.046653462961}, {"imp": 0.0, "x": "2016-06-30T00:00:00", "y": 161.67342863705008}, {"imp": 0.0, "x": "2016-07-31T00:00:00", "y": 162.1853184946566}, {"imp": 0.0, "x": "2016-08-31T00:00:00", "y": 161.23076763770084}, {"imp": 0.0, "x": "2016-09-30T00:00:00", "y": 160.54346950241757}, {"imp": 0.0, "x": "2016-10-31T00:00:00", "y": 159.43236084594005}, {"imp": 0.0, "x": "2016-11-30T00:00:00", "y": 159.91845105517208}, {"imp": 0.0, "x": "2016-12-31T00:00:00", "y": 160.52610753704244}]}, "height": 300, "layer": [{"data": {"name": "data-7687a89bb69e970e174413fc67a19e3f"}, "encoding": {"tooltip": [{"field": "x", "title": "Time Period", "type": "temporal"}, {"field": "y", "format": ".3f", "title": "Index Value", "type": "quantitative"}], "x": {"axis": {"format": "%Y", "labelAngle": 0, "title": "Time Period", "values": ["2010-01-31T00:00:00.000000000", "2011-01-31T00:00:00.000000000", "2012-01-31T00:00:00.000000000", "2013-01-31T00:00:00.000000000", "2014-01-31T00:00:00.000000000", "2015-01-31T00:00:00.000000000", "2016-01-31T00:00:00.000000000"]}, "field": "x", "type": "temporal"}, "y": {"field": "y", "scale": {"zero": false}, "title": "Index Value", "type": "quantitative"}}, "mark": {"size": 4, "type": "line"}}, {"data": {"name": "data-addc95662ad59601deadcf3838866519"}, "encoding": {"tooltip": [{"field": "x", "title": "Time Period", "type": "temporal"}, {"field": "y", "format": ".3f", "title": "Index Value", "type": "quantitative"}, {"field": "imp", "title": "Imputed", "type": "nominal"}], "x": {"axis": {"format": "%Y", "labelAngle": 0, "title": "Time Period"}, "field": "x", "type": "temporal"}, "y": {"field": "y", "scale": {"zero": false}, "title": "Index Value", "type": "quantitative"}}, "mark": {"color": "red", "size": 3, "type": "line"}, "transform": [{"as": "imp", "calculate": "if(datum.imp == 1, 'True', 'False')"}]}], "title": "Random Forest Index", "width": 600}
            </script>
            <script>
                (function() {
                    const el = document.getElementById("vega-spec-f3dba6d52c0d4c52b63a50bf878246e6");
                    if (el) {
                        const spec = JSON.parse(el.textContent);
                        vegaEmbed(el.parentElement, spec, {
                            actions: {
                                export: true,
                                source: true,
                                editor: true,
                                compiled: false
                            }
                        }).catch(console.error);
                    }
                })();
            </script>
        </div>
        </section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="hedonic_pricing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Hedonic Pricing</p>
      </div>
    </a>
    <a class="right-next"
       href="neural_network.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Bifurcated Neural Network</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preparation">Data Preparation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-the-index">Creating the Index</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-importance">Feature Importance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluating-the-index">Evaluating the Index</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/user_guide/random_forest.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>